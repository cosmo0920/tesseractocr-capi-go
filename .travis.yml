language: go

env:
  global:
    - GO15VENDOREXPERIMENT=0
    - GOMAXPROCS=8

go:
  - 1.4
  - 1.5
  - 1.6
  - 1.7
  - tip
matrix:
  allow_failures:
      - go: tip

before_install:
  - go get github.com/mattn/gom
install:
  - bash travis/install.sh
script:
  - $HOME/gopath/bin/gom install
  - $HOME/gopath/bin/gom test -run "Test*" # ingore example test... :<

after_script:
  - gom build example/sample.go
  - gom build example/sample_basic.go
  - gom build example/sample_specify_oem.go
